<!--?<!DOCTYPE html metal:define-macro="layout">-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Trace Diagram</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<!--?   libraries for bootstrap buttons-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<!--?   libraries for bootstrap text areas -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>






    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/themes/redmond/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/free-jqgrid/4.15.2/css/ui.jqgrid.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/free-jqgrid/4.15.2/jquery.jqgrid.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><!-- charts -->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!--?libraries for knockout dropdowns  -->
<!--?          <script src = "https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.1.0.js" type = "text/javascript"></script> -->
    <script src="/static/scripts/knockout-3.4.2.js"></script>

    <script type="text/javascript" src="/static/scripts/documents.js"></script>
    <script type="text/javascript" src="/static/scripts/trace.js"></script>


<link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">


    <style>
    /* Remove the navbar's default margin-bottom and rounded borders */
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }

    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 450px}

    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
    }

    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
        bottom: 10px;
        position: fixed;
        width: 100%;
    }

    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: 100%;
        padding: 15px;
      }
      .row.content {height:100%;}
    }

.list-group-item {
    padding: 1px;
}

.c1 {
display: block;
    height: 35px;
    width: 35px;
    border: 2px solid white;
}
  </style>
</head>
<body onload="loc_page_load()">

<script>
    function loc_page_load()
    {
        set_not_visible("divCreateDocument");
        set_not_visible("btnAddContent");
        set_not_visible("divNewContent");
        set_not_visible("divCurrentContent");
        populateContractorsList();
    }

    function open_new_content_dialog(eName) {
        t = document.getElementById(eName);
        t.style.display = "block";
    }

    function upsize_trace_diagram() {
        t = document.getElementById('secondsvg');
        current_width = t.clientWidth;
        t.style.width = (current_width + 50).toString() + 'px';

        doc_id = $("#ddlAdminContractors option:selected").val();
        buildTraceArray(doc_id);
    }

    function downsize_trace_diagram() {
        t = document.getElementById('secondsvg');
        current_width = t.clientWidth;
        //current_height = t.clientHeight;
        //alert(current_width + 50);
        t.style.width = (current_width - 50).toString() + 'px';
        //t.style.height = (current_height - 50).toString() + 'px';

        doc_id = $("#ddlAdminContractors option:selected").val();

        buildTraceArray(doc_id);
    }

    function downsize_svg_height() {
        t = document.getElementById('secondsvg');
        current_height = t.clientHeight;
        t.style.height = (current_height - 50).toString() + 'px';

        doc_id = $("#ddlAdminContractors option:selected").val();

        buildTraceArray(doc_id);
    }

    function upsize_svg_height() {
        t = document.getElementById('secondsvg');
        current_height = t.clientHeight;
        t.style.height = (current_height + 50).toString() + 'px';

        doc_id = $("#ddlAdminContractors option:selected").val();

        buildTraceArray(doc_id);
    }

    function upsize_trace_div(dimension) {
        t = document.getElementById('traceDiv');
        current_width = t.clientWidth;
        current_height = t.clientHeight;

        if (dimension == 'w') {
            t.style.width = (current_width + 50).toString() + 'px';
        } else if (dimension == 'h') {
            t.style.height = (current_height + 50).toString() + 'px';
        }

        doc_id = $("#ddlAdminContractors option:selected").val();

        buildTraceArray(doc_id);
    }

    function downsize_trace_div(dimension) {
        t = document.getElementById('traceDiv');
        current_width = t.clientWidth;
        current_height = t.clientHeight;
        //alert(current_width + 50);
        if (dimension == 'w') {
            t.style.width = (current_width - 50).toString() + 'px';
        } else if (dimension == 'h') {
            t.style.height = (current_height - 50).toString() + 'px';
        }

        doc_id = $("#ddlAdminContractors option:selected").val();
        // gggR = gggR * .9;
        // gggL = gggL * 1.1;
        // yFactor = yFactor * .9;
        // dFactor = dFactor - 0.25;
        buildTraceArray(doc_id);
    }

    function upsize_Factor() {
        doc_id = $("#ddlAdminContractors option:selected").val();
        // gggR = gggR * 1.1;
        // gggL = gggL * 0.9;
        yFactor = yFactor * 1.1;
        //dFactor = dFactor + .25;
        buildTraceArray(doc_id);
    }

    function downsize_Factor() {
        doc_id = $("#ddlAdminContractors option:selected").val();
        // gggR = gggR * 1.1;
        // gggL = gggL * 0.9;
        yFactor = yFactor * .9;
        //dFactor = dFactor - .25;
        buildTraceArray(doc_id);
    }

    function upsize_Global() {
        doc_id = $("#ddlAdminContractors option:selected").val();
        gggR = gggR * 1.1;
        gggL = gggL * 0.9;

        buildTraceArray(doc_id);
    }

    function downsize_Global() {
        doc_id = $("#ddlAdminContractors option:selected").val();
        gggR = gggR * .9;
        gggL = gggL * 1.1;
        buildTraceArray(doc_id);
    }

    function open_new_doc_dialog() {
        set_visible('divCreateDocument');
        set_not_visible("btnAddContent");
        set_not_visible("divNewContent");
        set_not_visible("outerDiv");

        // lblDocName
         var lblDocName = document.getElementById("lblDocName");
            lblDocName.innerHTML = "";

    }


</script>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
<!--?        <span class="icon-bar"></span>-->
<!--?        <span class="icon-bar"></span>-->
<!--?        <span class="icon-bar"></span>-->
      </button>
      <a class="navbar-brand" href="#">Logo</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="main">Main</a></li>
        <li><a href="trace">Trace</a></li>
        <li><a href="document">Document</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid text-center">
  <div class="row content">
    <div class="col-sm-2 sidenav" style="height: 900px" align="left">
        <strong><u>Documents</u></strong>
        <button type="button" class="btn" onclick="open_new_doc_dialog()">+</button>
        <br>
        <select class="" id="ddlAdminContractors" style="height:90%; width: 100% !important; min-width: 100px;"
                data-bind="options: dbAdminContractors, optionsText: 'doc_name', optionsValue: 'doc_id'"
                name="D7" multiple>
        </select>

        <div class="container">

</div>
<!--?      <p><a href="#">Link</a></p>-->
<!--?      <p><a href="#">Link</a></p>-->
<!--?      <p><a href="#">Link</a></p>-->
    </div>
    <div class="col-sm-8 text-left">
      <h1>Documents</h1>
        <label id="lblDocName" style="font-size: 20px; color: blue"></label>

<!-- <br>
<input id="button1" type="button" value="Change Dimensions"
            onclick="changeDimensions()"/>
           -->



<div id="divCreateDocument">
     <div class="container">

          <form>
              <button type="button" class="btn">Create Document</button>
            <div class="form-group">
                <br>
                <label for="usr">Name:</label>
                <input type="text" class="form-control" style="width:50%" id="txtDocName">
                <button type="button" class="btn" onclick="create_document()">Save</button>
            </div>
          </form>
            <!--?  <button type="button" class="btn btn-default">Default</button>-->
            <!--?  <button type="button" class="btn btn-primary">Primary</button>-->
            <!--?  <button type="button" class="btn btn-success">Success</button>-->
            <!--?  <button type="button" class="btn btn-info">Info</button>-->
            <!--?  <button type="button" class="btn btn-warning">Warning</button>-->
            <!--?  <button type="button" class="btn btn-danger">Danger</button>-->
            <!--?  <button type="button" class="btn btn-link">Link</button>-->
    </div>
</div>

<script>
    myList =''
    function changeDimensions() {
        document.getElementById("rect1").setAttribute("width", "100");
    }
</script>
<div class="container">
<!--?  <h2>Form control: textarea</h2>-->
<!--?  <p>The form below contains a textarea for comments:</p>-->

   <br>

    <br>
    <div id="divNewContent" class="form-group" style="background-color: white; padding-left:
                                                        15px;padding-top: 5px; padding-bottom: 5px; width: 900px;
                                                        border-style: solid; border-width: 1px;">
        <div style="background-color: white; padding-left: 5px; padding-bottom: 5px; padding-top: 5px; width: 850px;">
            <form>
            <div class="radio">
              <label><input type="radio" name="optradio" checked>Existing Content:</label>
                        <table style="width:550px">
                            <tr>
                                <td>
                                    <label for="comment"></label>
                                </td>
                                <td>
                                    <select class="" id="ddlDocuments_NewContent" style="width: 410px !important; min-width: 100px;
                                                                                             max-width: 200px;" data-bind="options: dbAdminContractors, optionsText: 'doc_name', optionsValue: 'doc_id'"
                                            name="D7" >
                                    </select>
                                </td>
                                <td style="horiz-align: left"><u>view</u></td>
                                <td>
                                    <button type="button" id="btnAddDocToContent" class="btn" onclick="addContentToDoc()" >Add</button>
                                </td>
                            </tr>
                        </table>
            </div>
            <div class="radio">
              <label><input type="radio" name="optradio">New Content:</label>
                <div style="background-color: white; padding-left: 25px; padding-bottom: 5px; width: 850px;">
                    <label for="comment"></label>
                    <textarea class="form-control" style="width: 800px" rows="5" id="txt_new_content">hHeader information....</textarea>
                    <br>
                    <button type="button" class="btn btn-warning">Edit</button>
                    <button type="button" class="btn btn-danger">Delete</button>
                    <button type="button" id="btnSaveNewContent" class="btn" onclick="create_content()" >Save</button>

                </div>
            </div>
          </form>
            <br>
        </div>
    </div>

  <div class="row">
    <div class="col-sm-12">
        <div class="panel panel-default" style="height:200px;">
            <div class="panel-heading" style="height: 55px">
                <div class="col-sm-10" style=""><h4>Content</h4></div>
                <div class="col-sm-2" style="">
                        <button type="button" id="btnAddContent" class="btn" onclick="open_new_content_dialog('divNewContent')" >Add Content</button>
                </div>
            </div>
            <div class="panel-body" style="height: 80%;overflow: auto;">
                <div id="outerDiv" style="background-color: white; width: 100%; overflow: auto; height: 80%;">
            </div>

        </div>

    </div>

    <br><br>

  <div class="row">
    <div class="col-sm-2" style="background-color:white;"></div>
    <div class="col-sm-10" style="background-color:white;">
        <div class="col-sm-3 col-md-3" style="padding-top: 15px; padding-bottom: 10px;">
            <label>svg</label>
             <button type="button" id="btnIncreaseContent" class="btn" onclick="upsize_trace_diagram()" >+</button>
             <button type="button" id="btnReduceContent" class="btn" onclick="downsize_trace_diagram()" >-</button>
        </div>
        <div class="col-sm-3 col-md-3" style="padding-top: 15px; padding-bottom: 10px;">
              <label>trace div</label>
             <button type="button" id="btnIncreaseContent" class="btn" onclick="upsize_trace_div('w')" >+</button>
             <button type="button" id="btnReduceContent" class="btn" onclick="downsize_trace_div('w')" >-</button>
        </div>
        <div class="col-sm-3 col-md-3" style="padding-top: 15px; padding-bottom: 10px;">
              <label>factor</label>
             <button type="button" id="btnIncreaseContent" class="btn" onclick="upsize_Factor()" >+</button>
             <button type="button" id="btnReduceContent" class="btn" onclick="downsize_Factor()" >-</button>
        </div>
        <div class="col-sm-3 col-md-3" style="padding-top: 15px; padding-bottom: 10px;">
              <label>global</label>
             <button type="button" id="btnIncreaseContent" class="btn" onclick="upsize_Global()" >+</button>
             <button type="button" id="btnReduceContent" class="btn" onclick="downsize_Global()" >-</button>
        </div>
    </div>
  </div>





    <div class="col-sm-3 col-md-1" style="padding-top: 15px; padding-bottom: 10px;">
          <label>svg height</label>
         <button type="button" id="btnIncreaseContent" class="btn c1" onclick="upsize_svg_height()" >+</button>
         <button type="button" id="btnReduceContent" class="btn c1" onclick="downsize_svg_height()" >-</button>
        <hr>
          <label>trace div</label>
         <button type="button" id="btnIncreaseContent" class="btn c1" onclick="upsize_trace_div('h')" >+</button>
         <button type="button" id="btnReduceContent" class="btn c1" onclick="downsize_trace_div('h')" >-</button>
    </div>



    <div class="col-sm-12 col-md-11" style="padding-top: 15px; padding-bottom: 10px;">
        <div id="traceDiv" style="border-style: solid; border-width: 2px; background-color: white; overflow-y: auto; width: 100%; height: 400px; outline: #1b6d85">

         <svg id="secondsvg" height="600" width="90%" style="background-color: white" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <!-- <line x1= "10" y1= "10"
                  x2="490" y2="490,"
                  style="stroke:rgb(255,90,50); stroke-width:5" -->
            />

        </svg>

        <div id="info" height="400" width="900">
            <br>
        </div>

        <svg id="cont" height="10" width="700" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
             <!-- <line x1= "10" y1= "10"
                  x2="490" y2="490,"
                  style="stroke:rgb(255,90,50); stroke-width:5" -->
            />

        </svg>

              <g id="myg" class="links"></g>


    </div>
    </div>

     <div id="divCurrentContent" class="form-group">
      <label for="comment">Content:</label>
      <textarea class="form-control" rows="5" id="txt_new_content">....</textarea>
    </div>
</div>



        <hr>
    </div>
<!--?    <div class="col-sm-2 sidenav">-->
<!--?      <div class="well">-->
<!--?        <p>ADS</p>-->
<!--?      </div>-->
<!--?      <div class="well">-->
<!--?        <p>ADS</p>-->
<!--?      </div>-->
<!--?    </div>-->
  </div>
</div>

<input type="hidden" id="txt_doc_id" name="txt_doc_id" value="none">
<!--?<footer class="container-fluid text-center">-->
<!--?    <div id="statusDiv" style="background-color: lightblue">-->
<!--?             <label id="lblStatus">status...</label>-->
<!--?    </div>-->
<!--?  <p>Footer Text</p>-->
<!--?</footer>-->

</body>




</html>